# MODEL v1.1 - IMPACT ANALYSIS

**Formula Change:** Belt length calculation corrected (2πD → πD)
**Date:** 2025-12-19

---

## Formula Change Summary

**Changed Formula:**
```
total_belt_length_in = (2 × conveyor_length_cc_in) + (π × pulley_diameter_in)
```

**Previous Formula (v1.0):**
```
total_belt_length_in = (2 × conveyor_length_cc_in) + (2π × pulley_diameter_in)
```

**Reason:** Open-belt configuration uses half wrap (πD) not full wrap (2πD).

---

## Impact on Outputs

### Direct Impact
**total_belt_length_in** ⬇️ Decreases by πD

### Downstream Impact (all decrease)
1. **belt_weight_lbf** = piw × pil × width × **total_belt_length_in**
2. **total_load_lbf** = **belt_weight_lbf** + load_on_belt_lbf
3. **avg_load_per_ft** = **total_load_lbf** / conveyor_length_ft
4. **belt_pull_calc_lbf** = **avg_load_per_ft** × friction × conveyor_length_ft
5. **total_belt_pull_lbf** = **belt_pull_calc_lbf** + base_belt_pull_total_lbf
6. **torque_drive_shaft_inlbf** = **total_belt_pull_lbf** × (pulley_diameter_in / 2) × safety_factor

### Unaffected Outputs
- **parts_on_belt** (independent of belt length)
- **load_on_belt_lbf** (only depends on parts)
- **drive_shaft_rpm** (only depends on belt speed and pulley diameter)
- **gear_ratio** (only depends on RPMs)
- **piw_used**, **pil_used** (constants)
- **safety_factor_used** (parameter)

---

## Worked Example

### Input Parameters
```
conveyor_length_cc_in: 120"
conveyor_width_in: 24"
pulley_diameter_in: 2.5"
belt_speed_fpm: 100 FPM
part_weight_lbs: 5 lbs
part_length_in: 12"
part_width_in: 6"
spacing_ft: 0.5 ft
orientation: Lengthwise
part_temperature: Ambient
oil_condition: None

Parameters:
  piw_2p5: 0.138
  pil_2p5: 0.138
  friction_coeff: 0.25
  safety_factor: 2.0
  base_belt_pull_lbf_per_ft: 75
  motor_rpm: 1750
```

### Step-by-Step Calculation

#### Step 1: Belt Length

**v1.0 (incorrect):**
```
total_belt_length_in = (2 × 120) + (2π × 2.5)
                     = 240 + 15.708
                     = 255.708"
```

**v1.1 (corrected):**
```
total_belt_length_in = (2 × 120) + (π × 2.5)
                     = 240 + 7.854
                     = 247.854"
```

**Difference:** -7.854" (-3.1%)

---

#### Step 2: Belt Weight

**v1.0:**
```
belt_weight_lbf = 0.138 × 0.138 × 24 × 255.708
                = 116.13 lbf
```

**v1.1:**
```
belt_weight_lbf = 0.138 × 0.138 × 24 × 247.854
                = 112.58 lbf
```

**Difference:** -3.55 lbf (-3.1%)

---

#### Step 3: Parts on Belt (unchanged)

```
parts_on_belt = 120 / (12 + 0.5×12)
              = 120 / 18
              = 6.67
```

---

#### Step 4: Load on Belt (unchanged)

```
load_on_belt_lbf = 6.67 × 5
                 = 33.33 lbf
```

---

#### Step 5: Total Load

**v1.0:**
```
total_load_lbf = 116.13 + 33.33
               = 149.46 lbf
```

**v1.1:**
```
total_load_lbf = 112.58 + 33.33
               = 145.91 lbf
```

**Difference:** -3.55 lbf (-2.4%)

---

#### Step 6: Average Load Per Foot

**v1.0:**
```
avg_load_per_ft = 149.46 / (120/12)
                = 149.46 / 10
                = 14.95 lbf/ft
```

**v1.1:**
```
avg_load_per_ft = 145.91 / (120/12)
                = 145.91 / 10
                = 14.59 lbf/ft
```

**Difference:** -0.36 lbf/ft (-2.4%)

---

#### Step 7: Belt Pull (Calculated)

**v1.0:**
```
belt_pull_calc_lbf = 14.95 × 0.25 × 10
                   = 37.37 lbf
```

**v1.1:**
```
belt_pull_calc_lbf = 14.59 × 0.25 × 10
                   = 36.48 lbf
```

**Difference:** -0.89 lbf (-2.4%)

---

#### Step 8: Base Belt Pull (unchanged)

```
base_belt_pull_total_lbf = 75 × 10
                         = 750 lbf
```

---

#### Step 9: Total Belt Pull

**v1.0:**
```
total_belt_pull_lbf = 37.37 + 750
                    = 787.37 lbf
```

**v1.1:**
```
total_belt_pull_lbf = 36.48 + 750
                    = 786.48 lbf
```

**Difference:** -0.89 lbf (-0.1%)

---

#### Step 10: Drive Shaft RPM (unchanged)

```
drive_shaft_rpm = 100 / ((2.5/12) × π)
                = 100 / 0.6545
                = 152.79 RPM
```

---

#### Step 11: Torque

**v1.0:**
```
torque_drive_shaft_inlbf = 787.37 × (2.5/2) × 2.0
                         = 787.37 × 1.25 × 2.0
                         = 1,968.43 in-lbf
```

**v1.1:**
```
torque_drive_shaft_inlbf = 786.48 × (2.5/2) × 2.0
                         = 786.48 × 1.25 × 2.0
                         = 1,966.20 in-lbf
```

**Difference:** -2.23 in-lbf (-0.1%)

---

#### Step 12: Gear Ratio (unchanged)

```
gear_ratio = 1750 / 152.79
           = 11.45
```

---

## Summary Table

| Output | v1.0 | v1.1 | Δ Absolute | Δ % |
|--------|------|------|------------|-----|
| **total_belt_length_in** | 255.71" | 247.85" | -7.85" | -3.1% |
| **belt_weight_lbf** | 116.13 | 112.58 | -3.55 | -3.1% |
| **parts_on_belt** | 6.67 | 6.67 | 0.00 | 0.0% |
| **load_on_belt_lbf** | 33.33 | 33.33 | 0.00 | 0.0% |
| **total_load_lbf** | 149.46 | 145.91 | -3.55 | -2.4% |
| **avg_load_per_ft** | 14.95 | 14.59 | -0.36 | -2.4% |
| **belt_pull_calc_lbf** | 37.37 | 36.48 | -0.89 | -2.4% |
| **base_belt_pull_total_lbf** | 750.00 | 750.00 | 0.00 | 0.0% |
| **total_belt_pull_lbf** | 787.37 | 786.48 | -0.89 | -0.1% |
| **drive_shaft_rpm** | 152.79 | 152.79 | 0.00 | 0.0% |
| **torque_drive_shaft_inlbf** | 1968.43 | 1966.20 | -2.23 | -0.1% |
| **gear_ratio** | 11.45 | 11.45 | 0.00 | 0.0% |

---

## Key Insights

### Magnitude of Change
- **Largest change:** Belt length (-3.1%)
- **Smallest change:** Torque, Total belt pull (-0.1%)
- **Unchanged:** RPM, gear ratio, parts on belt

### Why Small Overall Impact?
The base belt pull (750 lbf) dominates the total belt pull calculation. The calculated component (from friction) is relatively small (~37 lbf), so a 2.4% reduction in the calculated component only affects the total by 0.1%.

### Practical Significance
- Belt length directly affects **material cost** (3.1% reduction)
- Torque affects **motor sizing** (0.1% reduction - negligible)
- All changes are **reductions** (safer, more conservative)

---

## Sensitivity Analysis

### Impact by Pulley Diameter

| Pulley Ø | Belt Length Δ | % Change |
|----------|---------------|----------|
| 1.0" | -3.14" | -1.3% |
| 2.0" | -6.28" | -2.6% |
| 2.5" | -7.85" | -3.1% |
| 3.0" | -9.42" | -3.8% |
| 4.0" | -12.57" | -4.9% |

**Observation:** Larger pulleys → greater absolute difference, but percentage stays ~3% because belt length is dominated by 2×conveyor_length term.

---

## Validation Requirements

Before deploying v1.1, validate against:

1. **Excel Test Fixtures**
   - Re-run all Excel test cases with v1.1
   - Verify outputs match updated Excel calculations

2. **Historical Data**
   - Compare v1.1 results with v1.0 for existing calculations
   - Document any cases where difference exceeds 5%

3. **Engineering Review**
   - Confirm πD (half wrap) is correct for sliderbed design
   - Verify belt manufacturers use same convention

---

## Deployment Checklist

- [x] Formula corrected in code
- [x] Unit tests updated and passing
- [x] Changelog documented
- [x] Impact analysis completed
- [ ] Excel fixtures loaded and validated
- [ ] Database version entry created
- [ ] UI version selector added
- [ ] Customer communication prepared
- [ ] Historical calculations reviewed

---

**RECOMMENDATION:** Deploy v1.1 after validating against Excel test fixtures.

**END OF IMPACT ANALYSIS**
